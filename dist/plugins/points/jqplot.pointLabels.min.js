!function(a){a.jqplot.PointLabels=function(b){this.show=a.jqplot.config.enablePlugins,this.location="n",this.labelsFromSeries=!1,this.seriesLabelIndex=null,this.labels=[],this._labels=[],this.stackedValue=!1,this.ypadding=6,this.xpadding=6,this.escapeHTML=!0,this.edgeTolerance=-5,this.formatter=a.jqplot.DefaultTickFormatter,this.formatString="",this.hideZeros=!1,this._elems=[],a.extend(!0,this,b)};var b={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},c=["se","s","sw","w","nw","n","ne","e"];a.jqplot.PointLabels.init=function(b,c,d,e,f){var g=a.extend(!0,{},d,e);g.pointLabels=g.pointLabels||{},this.renderer.constructor!==a.jqplot.BarRenderer||"horizontal"!==this.barDirection||g.pointLabels.location||(g.pointLabels.location="e"),this.plugins.pointLabels=new a.jqplot.PointLabels(g.pointLabels),this.plugins.pointLabels.setLabels.call(this)},a.jqplot.PointLabels.prototype.setLabels=function(){var b,c=this.plugins.pointLabels;if(b=null!=c.seriesLabelIndex?c.seriesLabelIndex:this.renderer.constructor===a.jqplot.BarRenderer&&"horizontal"===this.barDirection?this._plotData[0].length<3?0:this._plotData[0].length-1:0===this._plotData.length?0:this._plotData[0].length-1,c._labels=[],0===c.labels.length||c.labelsFromSeries)if(c.stackedValue){if(this._plotData.length&&this._plotData[0].length)for(var d=0;d<this._plotData.length;d++)c._labels.push(this._plotData[d][b])}else{var e=this.data;if(this.renderer.constructor===a.jqplot.BarRenderer&&this.waterfall&&(e=this._data),e.length&&e[0].length)for(var d=0;d<e.length;d++)c._labels.push(e[d][b]);e=null}else c.labels.length&&(c._labels=c.labels)},a.jqplot.PointLabels.prototype.xOffset=function(a,b,c){b=b||this.location,c=c||this.xpadding;var d;switch(b){case"nw":d=-a.outerWidth(!0)-this.xpadding;break;case"n":d=-a.outerWidth(!0)/2;break;case"ne":d=this.xpadding;break;case"e":d=this.xpadding;break;case"se":d=this.xpadding;break;case"s":d=-a.outerWidth(!0)/2;break;case"sw":d=-a.outerWidth(!0)-this.xpadding;break;case"w":d=-a.outerWidth(!0)-this.xpadding;break;default:d=-a.outerWidth(!0)-this.xpadding}return d},a.jqplot.PointLabels.prototype.yOffset=function(a,b,c){b=b||this.location,c=c||this.xpadding;var d;switch(b){case"nw":d=-a.outerHeight(!0)-this.ypadding;break;case"n":d=-a.outerHeight(!0)-this.ypadding;break;case"ne":d=-a.outerHeight(!0)-this.ypadding;break;case"e":d=-a.outerHeight(!0)/2;break;case"se":d=this.ypadding;break;case"s":d=this.ypadding;break;case"sw":d=this.ypadding;break;case"w":d=-a.outerHeight(!0)/2;break;default:d=-a.outerHeight(!0)-this.ypadding}return d},a.jqplot.PointLabels.draw=function(d,e,f){var g,h,i,j,k=this.plugins.pointLabels,l=this._plotData,m=this._xaxis,n=this._yaxis,o=this;for(k.setLabels.call(this),g=0,h=k._elems.length;h>g;g++)k._elems[g]&&k._elems[g].emptyForce();if(k._elems.splice(0,k._elems.length),k.show){var p="_"+this._stackAxis+"axis";for(k.formatString||(k.formatString=this[p]._ticks[0].formatString,k.formatter=this[p]._ticks[0].formatter),g=0,h=k._labels.length;h>g;g++){var q,r,s,t,u,v,w,x,y,z=k._labels[g],A=k.location;if(!(null==z||k.hideZeros&&0==parseInt(z,10))){if(z=k.formatter(k.formatString,z),j=document.createElement("div"),k._elems[g]=a(j),i=k._elems[g],i.addClass("jqplot-point-label jqplot-series-"+this.index+" jqplot-point-"+g),i.css("position","absolute"),a.jqplot.isDarkColor(this.color)?void 0!==k.brightColor?i.css("color",k.brightColor):i.addClass("jqplot-point-brightColor"):void 0!==k.darkColor?i.css("color",k.darkColor):i.addClass("jqplot-point-darkColor"),i.insertAfter(d.canvas),k.escapeHTML?i.text(z):i.html(z),(this.fillToZero&&l[g][1]<0||this.fillToZero&&"bar"===this._type&&"horizontal"===this.barDirection&&l[g][0]<0||(this.waterfall&&parseInt(z,10))<0)&&(A=c[b[A]]),q=m.u2p(l[g][0])+k.xOffset(i,A),r=n.u2p(l[g][1])+k.yOffset(i,A),this._stack&&!k.stackedValue){var B=o._barPoints[g];"vertical"===this.barDirection?(r=(B[0][1]+B[1][1])/2+f._gridPadding.top-.5*i.outerHeight(!0),q=(B[2][0]+B[0][0])/2+f._gridPadding.left-.5*i.outerWidth(!0)):q=(B[2][0]+B[0][0])/2+f._gridPadding.left-.5*i.outerWidth(!0)}this.renderer.constructor==a.jqplot.BarRenderer&&("vertical"==this.barDirection?q+=this._barNudge:r-=this._barNudge),i.css("left",q),i.css("top",r),s=q+i.width(),t=r+i.height(),u=k.edgeTolerance,v=a(d.canvas).position().left,w=a(d.canvas).position().top,x=d.canvas.width+v,y=d.canvas.height+w,i=null,j=null}}}},a.jqplot.postSeriesInitHooks.push(a.jqplot.PointLabels.init),a.jqplot.postDrawSeriesHooks.push(a.jqplot.PointLabels.draw)}(jQuery);