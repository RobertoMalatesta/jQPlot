!function(a){function b(b,c,d){var f=d.plugins.cursor,g="",h=!1;if(f.showTooltipGridPosition&&(g=b.x+", "+b.y,h=!0),f.showTooltipUnitPosition)for(var i,j=0;j<f.tooltipAxisGroups.length;j++){var k=j;if(i=f.tooltipAxisGroups[j],h)g+="<br />";else{var l=d.axes[i[r]]._ticks[0].formatter,m=d.axes[i[r]]._ticks[0].formatString;g+=l(m,c[i[r]])}if(f.yaxis||f.xaxis){var n;if(f.yaxis&&f.yaxis.formatter)n=f.yaxis.formatter(s[j]._yaxis._ticks[0].formatString,c[i[1]],k);else{var o=i._yaxis._ticks[0].formatString;x=i._yaxis._ticks[0].formatter(o,z[1],k)}var p;if(f.xaxis&&f.xaxis.formatter)p=f.xaxis.formatter(s[j]._xaxis._ticks[0].formatString,c[i[0]],k);else{var q=i._xaxis._ticks[0].formatString;x=i._xaxis._ticks[0].formatter(q,z[0],k)}g+=a.jqplot.sprintf(f.tooltipFormatString,p,n)}else if(f.useAxesFormatters)for(var r=0;r<i.length;r++){r&&(g+=", ");var l=d.axes[i[r]]._ticks[0].formatter,m=d.axes[i[r]]._ticks[0].formatString;g+=l(m,c[i[r]],k)}else g+=a.jqplot.sprintf(f.tooltipFormatString,c[i[0]],c[i[1]]);h=!0}if(f.showTooltipDataPosition)for(var s=d.series,t=e(d,b.x,b.y),h=!1,j=0;j<s.length;j++){var k=j;if(s[j].show){var u=s[j].index,v=s[j].label.toString();f.useSeriesColor&&(v=a.jqplot.sprintf('<span style="color:%s">%s</span>',s[j].color,v));var w=a.inArray(u,t.indices),x=void 0,y=void 0;if(-1!=w){var z=t.data[w].data;if(f.yaxis||f.xaxis){if(f.yaxis&&f.yaxis.formatter)y=f.yaxis.formatter(s[j]._yaxis._ticks[0].formatString,z[1],k);else{var o=s[j]._yaxis._ticks[0].formatString;y=s[j]._yaxis._ticks[0].formatter(o,z[1],k)}if(f.xaxis&&f.xaxis.formatter)x=f.xaxis.formatter(s[j]._xaxis._ticks[0].formatString,z[0],k);else{var q=s[j]._xaxis._ticks[0].formatString;x=s[j]._xaxis._ticks[0].formatter(q,z[0],k)}!h&&f.insertHead&&(g+=a.jqplot.sprintf(f.headTooltipFormatString,x,y),g+="<br />")}else if(f.useAxesFormatters){var q=s[j]._xaxis._ticks[0].formatString,o=s[j]._yaxis._ticks[0].formatString;x=s[j]._xaxis._ticks[0].formatter(q,z[0],k),y=s[j]._yaxis._ticks[0].formatter(o,z[1],k),!h&&f.insertHead&&(g+=a.jqplot.sprintf(f.headTooltipFormatString,x,y),g+="<br />")}else x=z[0],y=z[1];h&&(g+="<br />"),g+=a.jqplot.sprintf(f.tooltipFormatString,v,x,y),h=!0}}}""===g?f._tooltipElem.css({display:"none"}):f._tooltipElem.css({display:"block"}),f._tooltipElem.html(g)}function c(a){if(a){var b={};return a.color&&(b.strokeStyle=a.color),a.style&&(b.linePattern=a.style),a.lineWidth&&(b.lineWidth=a.lineWidth),b}return a}function d(b,d){var f=d.plugins.cursor,g=f.cursorCanvas._ctx;if(g.clearRect(0,0,g.canvas.width,g.canvas.height),f.showVerticalLine){var h=c(f.verticalLine);f.shapeRenderer.draw(g,[[b.x,0],[b.x,g.canvas.height]],h)}if(f.showHorizontalLine){var i=c(f.horizontalLine);f.shapeRenderer.draw(g,[[0,b.y],[g.canvas.width,b.y]],i)}var j=e(d,b.x,b.y);if(f.showCursorLegend)for(var k=a(d.targetId+" td.jqplot-cursor-legend-label"),l=0;l<k.length;l++){var m=a(k[l]).data("seriesIndex"),n=d.series[m],o=n.label.toString(),p=a.inArray(m,j.indices),q=void 0,r=void 0;if(-1!=p){var s=j.data[p].data;if(f.yaxis||f.xaxis){if(f.yaxis&&f.yaxis.formatter)r=f.yaxis.formatter(n[l]._yaxis._ticks[0].formatString,s[1],m);else{var t=n._yaxis._ticks[0].formatString;r=n._yaxis._ticks[0].formatter(t,s[1],m)}if(f.xaxis&&f.xaxis.formatter)q=f.xaxis.formatter(n[l]._xaxis._ticks[0].formatString,s[0],m);else{var u=n._xaxis._ticks[0].formatString;q=n._xaxis._ticks[0].formatter(u,s[0],m)}}else if(f.useAxesFormatters){var v=n._xaxis._ticks[0].formatter,w=n._yaxis._ticks[0].formatter,u=n._xaxis._ticks[0].formatString,t=n._yaxis._ticks[0].formatString;q=v(u,s[0],m),r=w(t,s[1],m)}else q=s[0],r=s[1]}d.legend.escapeHtml?a(k[l]).text(a.jqplot.sprintf(f.cursorLegendFormatString,o,q,r)):a(k[l]).html(a.jqplot.sprintf(f.cursorLegendFormatString,o,q,r))}g=null}function e(a,b,c){for(var d,e,f,g,h,i,j={indices:[],data:[]},k=a.plugins.cursor,e=0;e<a.series.length;e++)if(d=a.series[e],g=d.renderer,d.show){i=k.intersectionThreshold,d.showMarker&&(i+=d.markerRenderer.size/2);for(var f=0;f<d.gridData.length;f++)h=d.gridData[f],k.showVerticalLine&&Math.abs(b-h[0])<=i&&(j.indices.push(e),j.data.push({seriesIndex:e,pointIndex:f,gridData:h,data:d.data[f]}))}return j}function f(a,b,c){var d=b.plugins.cursor,e=d._tooltipElem,f=null;switch(d.tooltipLocation){case"nw":var h=a.x+b._gridPadding.left-e.outerWidth(!0)-d.tooltipOffset,i=a.y+b._gridPadding.top-d.tooltipOffset-e.outerHeight(!0);break;case"n":var h=a.x+b._gridPadding.left-e.outerWidth(!0)/2,i=a.y+b._gridPadding.top-d.tooltipOffset-e.outerHeight(!0);break;case"ne":var h=a.x+b._gridPadding.left+d.tooltipOffset,i=a.y+b._gridPadding.top-d.tooltipOffset-e.outerHeight(!0);break;case"e":var h=a.x+b._gridPadding.left+d.tooltipOffset,i=a.y+b._gridPadding.top-e.outerHeight(!0)/2;break;case"se":var h=a.x+b._gridPadding.left+d.tooltipOffset,i=a.y+b._gridPadding.top+d.tooltipOffset;break;case"s":var h=a.x+b._gridPadding.left-e.outerWidth(!0)/2,i=a.y+b._gridPadding.top+d.tooltipOffset;break;case"sw":var h=a.x+b._gridPadding.left-e.outerWidth(!0)-d.tooltipOffset,i=a.y+b._gridPadding.top+d.tooltipOffset;break;case"w":var h=a.x+b._gridPadding.left-e.outerWidth(!0)-d.tooltipOffset,i=a.y+b._gridPadding.top-e.outerHeight(!0)/2;break;default:var h=a.x+b._gridPadding.left+d.tooltipOffset,i=a.y+b._gridPadding.top+d.tooltipOffset}if(d.constrainTooltipToScreen&&void 0!==c){var j="",k="";if(k+=d.tooltipLocation[0],j+=d.tooltipLocation.length>1?d.tooltipLocation[1]:d.tooltipLocation[0],"n"===k&&c.pageY-d.tooltipOffset-e.outerHeight(!0)<=0?f="s":"s"===k&&c.pageY+e.outerHeight(!0)+d.tooltipOffset>=document.body.clientHeight?f="n":("n"===k||"s"===k)&&(f=k),"w"===j&&c.pageX-e.outerWidth(!0)<=0?f+="e":"e"===j&&c.pageX+e.outerWidth(!0)>=document.body.clientWidth?f+="w":("e"===j||"w"===j)&&(f+=j),null!==f)return void g(f,a,b)}e.css("left",h),e.css("top",i),e=null}function g(a,b,c){var d=c.plugins.cursor,e=d._tooltipElem;switch(a){case"nw":var f=b.x+c._gridPadding.left-e.outerWidth(!0)-d.tooltipOffset,g=b.y+c._gridPadding.top-d.tooltipOffset-e.outerHeight(!0);break;case"n":var f=b.x+c._gridPadding.left-e.outerWidth(!0)/2,g=b.y+c._gridPadding.top-d.tooltipOffset-e.outerHeight(!0);break;case"ne":var f=b.x+c._gridPadding.left+d.tooltipOffset,g=b.y+c._gridPadding.top-d.tooltipOffset-e.outerHeight(!0);break;case"e":var f=b.x+c._gridPadding.left+d.tooltipOffset,g=b.y+c._gridPadding.top-e.outerHeight(!0)/2;break;case"se":var f=b.x+c._gridPadding.left+d.tooltipOffset,g=b.y+c._gridPadding.top+d.tooltipOffset;break;case"s":var f=b.x+c._gridPadding.left-e.outerWidth(!0)/2,g=b.y+c._gridPadding.top+d.tooltipOffset;break;case"sw":var f=b.x+c._gridPadding.left-e.outerWidth(!0)-d.tooltipOffset,g=b.y+c._gridPadding.top+d.tooltipOffset;break;case"w":var f=b.x+c._gridPadding.left-e.outerWidth(!0)-d.tooltipOffset,g=b.y+c._gridPadding.top-e.outerHeight(!0)/2;break;default:var f=b.x+c._gridPadding.left+d.tooltipOffset,g=b.y+c._gridPadding.top+d.tooltipOffset}e.css("left",f),e.css("top",g),e=null}function h(a){var b=a._gridPadding,c=a.plugins.cursor,d=c._tooltipElem;switch(c.tooltipLocation){case"nw":var e=b.left+c.tooltipOffset,f=b.top+c.tooltipOffset;d.css("left",e),d.css("top",f);break;case"n":var e=(b.left+(a._plotDimensions.width-b.right))/2-d.outerWidth(!0)/2,f=b.top+c.tooltipOffset;d.css("left",e),d.css("top",f);break;case"ne":var e=b.right+c.tooltipOffset,f=b.top+c.tooltipOffset;d.css({right:e,top:f});break;case"e":var e=b.right+c.tooltipOffset,f=(b.top+(a._plotDimensions.height-b.bottom))/2-d.outerHeight(!0)/2;d.css({right:e,top:f});break;case"se":var e=b.right+c.tooltipOffset,f=b.bottom+c.tooltipOffset;d.css({right:e,bottom:f});break;case"s":var e=(b.left+(a._plotDimensions.width-b.right))/2-d.outerWidth(!0)/2,f=b.bottom+c.tooltipOffset;d.css({left:e,bottom:f});break;case"sw":var e=b.left+c.tooltipOffset,f=b.bottom+c.tooltipOffset;d.css({left:e,bottom:f});break;case"w":var e=b.left+c.tooltipOffset,f=(b.top+(a._plotDimensions.height-b.bottom))/2-d.outerHeight(!0)/2;d.css({left:e,top:f});break;default:var e=b.right-c.tooltipOffset,f=b.bottom+c.tooltipOffset;d.css({right:e,bottom:f})}d=null}function i(a,b,c,d,e){a.preventDefault(),a.stopImmediatePropagation();var f=e.plugins.cursor;f.clickReset&&f.resetZoom(e,f);var g=window.getSelection;return document.selection&&document.selection.empty?document.selection.empty():g&&!g().isCollapsed&&g().collapse(),!1}function j(a,b,c,d,e){a.preventDefault(),a.stopImmediatePropagation();var f=e.plugins.cursor;f.dblClickReset&&f.resetZoom(e,f);var g=window.getSelection;return document.selection&&document.selection.empty?document.selection.empty():g&&!g().isCollapsed&&g().collapse(),!1}function k(b,c,d,e,f){var g=f.plugins.cursor;if(g.onGrid=!1,g.show){if(a(b.target).css("cursor",g.previousCursor),!g.showTooltip||g._zoom.zooming&&g.showTooltipOutsideZoom&&!g.constrainOutsideZoom||(g._tooltipElem.empty(),g._tooltipElem.hide()),g.zoom&&(g._zoom.gridpos=c,g._zoom.datapos=d),g.showVerticalLine||g.showHorizontalLine){var h=g.cursorCanvas._ctx;h.clearRect(0,0,h.canvas.width,h.canvas.height),h=null}if(g.showCursorLegend)for(var i=a(f.targetId+" td.jqplot-cursor-legend-label"),j=0;j<i.length;j++){var k=a(i[j]).data("seriesIndex"),l=f.series[k],m=l.label.toString();f.legend.escapeHtml?a(i[j]).text(a.jqplot.sprintf(g.cursorLegendFormatString,m,void 0,void 0)):a(i[j]).html(a.jqplot.sprintf(g.cursorLegendFormatString,m,void 0,void 0))}}}function l(a,c,e,g,i){var j=i.plugins.cursor;j.onGrid=!0,j.show&&(j.previousCursor=a.target.style.cursor,a.target.style.cursor=j.style,j.showTooltip&&(b(c,e,i),j.followMouse?f(c,i,a):h(i),j._tooltipElem.show()),(j.showVerticalLine||j.showHorizontalLine)&&d(c,i))}function m(a,c,e,g,h){var i=h.plugins.cursor;i.show&&(i.showTooltip&&(b(c,e,h),i.followMouse&&f(c,h,a)),(i.showVerticalLine||i.showHorizontalLine)&&d(c,h))}function n(a){var b,c,d=a.data.plot,e=d.eventCanvas._elem.offset(),f={x:a.pageX-e.left,y:a.pageY-e.top},g={xaxis:null,yaxis:null,x2axis:null,y2axis:null,y3axis:null,y4axis:null,y5axis:null,y6axis:null,y7axis:null,y8axis:null,y9axis:null,yMidAxis:null},h=["xaxis","yaxis","x2axis","y2axis","y3axis","y4axis","y5axis","y6axis","y7axis","y8axis","y9axis","yMidAxis"],i=d.axes;for(b=11;b>0;b--)c=h[b-1],i[c].show&&(g[c]=i[c].series_p2u(f[c.charAt(0)]));return{offsets:e,gridPos:f,dataPos:g}}function o(a){var c=a.data.plot,d=c.plugins.cursor;if(d.show&&d.zoom&&d._zoom.started&&!d.zoomTarget){a.preventDefault();var e=d.zoomCanvas._ctx,g=n(a),h=g.gridPos,i=g.dataPos;d._zoom.gridpos=h,d._zoom.datapos=i,d._zoom.zooming=!0;var j=h.x,k=h.y,l=e.canvas.height,m=e.canvas.width;d.showTooltip&&!d.onGrid&&d.showTooltipOutsideZoom&&(b(h,i,c),d.followMouse&&f(h,c,a)),"x"==d.constrainZoomTo?d._zoom.end=[j,l]:"y"==d.constrainZoomTo?d._zoom.end=[m,k]:d._zoom.end=[j,k];var o=window.getSelection;document.selection&&document.selection.empty?document.selection.empty():o&&!o().isCollapsed&&o().collapse(),r.call(d),e=null}}function p(b,c,d,e,f){var g=f.plugins.cursor;f.plugins.mobile?a(document).one("vmouseup.jqplot_cursor",{plot:f},q):a(document).one("mouseup.jqplot_cursor",{plot:f},q);f.axes;if(void 0!=document.onselectstart&&(g._oldHandlers.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!=document.ondrag&&(g._oldHandlers.ondrag=document.ondrag,document.ondrag=function(){return!1}),void 0!=document.onmousedown&&(g._oldHandlers.onmousedown=document.onmousedown,document.onmousedown=function(){return!1}),g.zoom){if(!g.zoomProxy){var h=g.zoomCanvas._ctx;h.clearRect(0,0,h.canvas.width,h.canvas.height),h=null}"x"==g.constrainZoomTo?g._zoom.start=[c.x,0]:"y"==g.constrainZoomTo?g._zoom.start=[0,c.y]:g._zoom.start=[c.x,c.y],g._zoom.started=!0;for(var i in d)g._zoom.axes.start[i]=d[i];f.plugins.mobile?a(document).bind("vmousemove.jqplotCursor",{plot:f},o):a(document).bind("mousemove.jqplotCursor",{plot:f},o)}}function q(b){var c=b.data.plot,d=c.plugins.cursor;if(d.zoom&&d._zoom.zooming&&!d.zoomTarget){var e=d._zoom.gridpos.x,f=d._zoom.gridpos.y,g=d._zoom.datapos,h=d.zoomCanvas._ctx.canvas.height,i=d.zoomCanvas._ctx.canvas.width,j=c.axes;if(d.constrainOutsideZoom&&!d.onGrid){0>e?e=0:e>i&&(e=i),0>f?f=0:f>h&&(f=h);for(var k in g)g[k]&&("x"==k.charAt(0)?g[k]=j[k].series_p2u(e):g[k]=j[k].series_p2u(f))}"x"==d.constrainZoomTo?f=h:"y"==d.constrainZoomTo&&(e=i),d._zoom.end=[e,f],d._zoom.gridpos={x:e,y:f},d.doZoom(d._zoom.gridpos,g,c,d)}d._zoom.started=!1,d._zoom.zooming=!1,a(document).unbind("mousemove.jqplotCursor",o),void 0!=document.onselectstart&&null!=d._oldHandlers.onselectstart&&(document.onselectstart=d._oldHandlers.onselectstart,d._oldHandlers.onselectstart=null),void 0!=document.ondrag&&null!=d._oldHandlers.ondrag&&(document.ondrag=d._oldHandlers.ondrag,d._oldHandlers.ondrag=null),void 0!=document.onmousedown&&null!=d._oldHandlers.onmousedown&&(document.onmousedown=d._oldHandlers.onmousedown,d._oldHandlers.onmousedown=null)}function r(){var a,b,c,d,e=this._zoom.start,f=this._zoom.end,g=this.zoomCanvas._ctx;f[0]>e[0]?(a=e[0],d=f[0]-e[0]):(a=f[0],d=e[0]-f[0]),f[1]>e[1]?(b=e[1],c=f[1]-e[1]):(b=f[1],c=e[1]-f[1]),g.fillStyle="rgba(0,0,0,0.2)",g.strokeStyle="#999999",g.lineWidth=1,g.clearRect(0,0,g.canvas.width,g.canvas.height),g.fillRect(0,0,g.canvas.width,g.canvas.height),g.clearRect(a,b,d,c),g.strokeRect(a,b,d,c),g=null}a.jqplot.Cursor=function(b){this.style="crosshair",this.previousCursor="auto",this.constrainTooltipToScreen=!1,this.show=a.jqplot.config.enablePlugins,this.showTooltip=!0,this.followMouse=!1,this.tooltipLocation="se",this.tooltipOffset=6,this.showTooltipGridPosition=!1,this.showTooltipUnitPosition=!0,this.showTooltipDataPosition=!1,this.tooltipFormatString="%.4P, %.4P",this.useAxesFormatters=!0,this.tooltipAxisGroups=[],this.zoom=!1,this.zoomProxy=!1,this.zoomTarget=!1,this.looseZoom=!0,this.clickReset=!1,this.dblClickReset=!0,this.showVerticalLine=!1,this.showHorizontalLine=!1,this.constrainZoomTo="none",this.shapeRenderer=new a.jqplot.ShapeRenderer,this._zoom={start:[],end:[],started:!1,zooming:!1,isZoomed:!1,axes:{start:{},end:{}},gridpos:{},datapos:{}},this._tooltipElem,this.zoomCanvas,this.cursorCanvas,this.intersectionThreshold=2,this.showCursorLegend=!1,this.cursorLegendFormatString=a.jqplot.Cursor.cursorLegendFormatString,this._oldHandlers={onselectstart:null,ondrag:null,onmousedown:null},this.constrainOutsideZoom=!0,this.showTooltipOutsideZoom=!1,this.onGrid=!1,this.verticalLine=null,this.horizontalLine=null,this.insertHead=!1,this.headTooltipFormatString="%s",this.useSeriesColor=!1,this.yaxis=null,this.xaxis=null,a.extend(!0,this,b)},a.jqplot.Cursor.cursorLegendFormatString="%s x:%s, y:%s",a.jqplot.Cursor.init=function(b,c,d){var e=d||{};this.plugins.cursor=new a.jqplot.Cursor(e.cursor);var f=this.plugins.cursor;f.show&&(this.eventListenerHooks.addOnce("jqplotMouseEnter",l),this.eventListenerHooks.addOnce("jqplotMouseLeave",k),this.eventListenerHooks.addOnce("jqplotMouseMove",m),f.showCursorLegend&&(d.legend=d.legend||{},d.legend.renderer=a.jqplot.CursorLegendRenderer,d.legend.formatString=this.plugins.cursor.cursorLegendFormatString,d.legend.show=!0),f.zoom&&(this.eventListenerHooks.addOnce("jqplotMouseDown",p),f.clickReset&&this.eventListenerHooks.addOnce("jqplotClick",i),f.dblClickReset&&this.eventListenerHooks.addOnce("jqplotDblClick",j)),this.resetZoom=function(){var a=this.axes;if(f.zoomProxy){var b=this.plugins.cursor.zoomCanvas._ctx;b.clearRect(0,0,b.canvas.width,b.canvas.height),b=null}else{for(var c in a)a[c].reset(),a[c]._ticks=[],void 0!==f._zoom.axes[c]&&(a[c]._autoFormatString=f._zoom.axes[c].tickFormatString);this.redraw()}this.plugins.cursor._zoom.isZoomed=!1,this.target.trigger("jqplotResetZoom",[this,this.plugins.cursor])},f.showTooltipDataPosition&&(f.showTooltipUnitPosition=!1,f.showTooltipGridPosition=!1,void 0==e.cursor.tooltipFormatString&&(f.tooltipFormatString=a.jqplot.Cursor.cursorLegendFormatString)))},a.jqplot.Cursor.postDraw=function(){var b=this.plugins.cursor;b.zoomCanvas&&(b.zoomCanvas.resetCanvas(),b.zoomCanvas=null),b.cursorCanvas&&(b.cursorCanvas.resetCanvas(),b.cursorCanvas=null),b._tooltipElem&&(b._tooltipElem.emptyForce(),b._tooltipElem=null),b.zoom&&(b.zoomCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(b.zoomCanvas.createElement(this._gridPadding,"jqplot-zoom-canvas",this._plotDimensions,this)),b.zoomCanvas.setContext());var c=document.createElement("div");if(b._tooltipElem=a(c),c=null,b._tooltipElem.addClass("jqplot-cursor-tooltip"),b._tooltipElem.css({position:"absolute",display:"none"}),b.zoomCanvas?b.zoomCanvas._elem.before(b._tooltipElem):this.eventCanvas._elem.before(b._tooltipElem),(b.showVerticalLine||b.showHorizontalLine)&&(b.cursorCanvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(b.cursorCanvas.createElement(this._gridPadding,"jqplot-cursor-canvas",this._plotDimensions,this)),b.cursorCanvas.setContext()),b.showTooltipUnitPosition&&0===b.tooltipAxisGroups.length){for(var d,e=this.series,f=[],g=0;g<e.length;g++){d=e[g];var h=d.xaxis+","+d.yaxis;-1==a.inArray(h,f)&&f.push(h)}for(var g=0;g<f.length;g++)b.tooltipAxisGroups.push(f[g].split(","))}},a.jqplot.Cursor.zoomProxy=function(a,b){function c(b,c,d,f,g){e.doZoom(c,d,a,g)}function d(b,c,d){a.resetZoom()}var e=a.plugins.cursor,f=b.plugins.cursor;e.zoomTarget=!0,e.zoom=!0,e.style="auto",e.dblClickReset=!1,f.zoom=!0,f.zoomProxy=!0,b.target.bind("jqplotZoom",c),b.target.bind("jqplotResetZoom",d)},a.jqplot.Cursor.prototype.resetZoom=function(a,b){var c=a.axes,d=b._zoom.axes;if(!a.plugins.cursor.zoomProxy&&b._zoom.isZoomed){for(var e in c)c[e].reset(),c[e]._ticks=[],c[e]._autoFormatString=d[e].tickFormatString;a.redraw(),b._zoom.isZoomed=!1}else{var f=b.zoomCanvas._ctx;f.clearRect(0,0,f.canvas.width,f.canvas.height),f=null}a.target.trigger("jqplotResetZoom",[a,b])},a.jqplot.Cursor.resetZoom=function(a){a.resetZoom()},a.jqplot.Cursor.prototype.doZoom=function(b,c,d,e){var f,g,h,i,j,k,l,m=e,n=d.axes,o=m._zoom.axes,p=o.start,q=(o.end,d.plugins.cursor.zoomCanvas._ctx);if("none"==m.constrainZoomTo&&Math.abs(b.x-m._zoom.start[0])>6&&Math.abs(b.y-m._zoom.start[1])>6||"x"==m.constrainZoomTo&&Math.abs(b.x-m._zoom.start[0])>6||"y"==m.constrainZoomTo&&Math.abs(b.y-m._zoom.start[1])>6){if(!d.plugins.cursor.zoomProxy){for(var r in c)void 0==m._zoom.axes[r]&&(m._zoom.axes[r]={},m._zoom.axes[r].numberTicks=n[r].numberTicks,m._zoom.axes[r].tickInterval=n[r].tickInterval,m._zoom.axes[r].daTickInterval=n[r].daTickInterval,m._zoom.axes[r].min=n[r].min,m._zoom.axes[r].max=n[r].max,m._zoom.axes[r].tickFormatString=null!=n[r].tickOptions?n[r].tickOptions.formatString:""),("none"==m.constrainZoomTo||"x"==m.constrainZoomTo&&"x"==r.charAt(0)||"y"==m.constrainZoomTo&&"y"==r.charAt(0))&&(f=c[r],null!=f&&(f>p[r]?(h=p[r],i=f):(g=p[r]-f,h=f,i=p[r]),j=n[r],k=null,j.alignTicks&&("x2axis"===j.name&&d.axes.xaxis.show?k=d.axes.xaxis.numberTicks:"y"===j.name.charAt(0)&&"yaxis"!==j.name&&"yMidAxis"!==j.name&&d.axes.yaxis.show&&(k=d.axes.yaxis.numberTicks)),!this.looseZoom||n[r].renderer.constructor!==a.jqplot.LinearAxisRenderer&&n[r].renderer.constructor!==a.jqplot.LogAxisRenderer?(n[r].min=h,n[r].max=i,n[r].tickInterval=null,n[r].numberTicks=null,n[r].daTickInterval=null):(l=a.jqplot.LinearTickGenerator(h,i,j._scalefact,k),n[r].tickInset&&l[0]<n[r].min+n[r].tickInset*n[r].tickInterval&&(l[0]+=l[4],l[2]-=1),n[r].tickInset&&l[1]>n[r].max-n[r].tickInset*n[r].tickInterval&&(l[1]-=l[4],l[2]-=1),n[r].renderer.constructor===a.jqplot.LogAxisRenderer&&l[0]<n[r].min&&(l[0]+=l[4],l[2]-=1),n[r].min=l[0],n[r].max=l[1],n[r]._autoFormatString=l[3],n[r].numberTicks=l[2],n[r].tickInterval=l[4],n[r].daTickInterval=[l[4]/1e3,"seconds"]),n[r]._ticks=[]));q.clearRect(0,0,q.canvas.width,q.canvas.height),d.redraw(),m._zoom.isZoomed=!0,q=null}d.target.trigger("jqplotZoom",[b,c,d,e])}},a.jqplot.preInitHooks.push(a.jqplot.Cursor.init),a.jqplot.postDrawHooks.push(a.jqplot.Cursor.postDraw),a.jqplot.Cursor.prototype.setZoom=function(b,c,d){var e={pageX:b.x,pageY:b.y,preventDefault:function(){console.log("prevent")},data:{plot:d}},f={pageX:c.x,pageY:c.y,preventDefault:function(){console.log("prevent")},data:{plot:d}},g=n(e).gridPos,h=n(e).dataPos,i=d.plugins.cursor;"x"==i.constrainZoomTo?i._zoom.start=[g.x,0]:"y"==i.constrainZoomTo?i._zoom.start=[0,g.y]:i._zoom.start=[g.x,g.y],i._zoom.started=!0;for(var j in h)i._zoom.axes.start[j]=h[j];d.plugins.mobile?a(document).bind("vmousemove.jqplotCursor",{plot:d},o):a(document).bind("mousemove.jqplotCursor",{plot:d},o),p(e,g,h,{},d),o(e),q(f)},a.jqplot.CursorLegendRenderer=function(b){a.jqplot.TableLegendRenderer.call(this,b),this.formatString="%s"},a.jqplot.CursorLegendRenderer.prototype=new a.jqplot.TableLegendRenderer,a.jqplot.CursorLegendRenderer.prototype.constructor=a.jqplot.CursorLegendRenderer,a.jqplot.CursorLegendRenderer.prototype.draw=function(){function b(b,c,d,e){var f=d?this.rowSpacing:"0",g=a('<tr class="jqplot-legend jqplot-cursor-legend"></tr>').appendTo(this._elem);g.data("seriesIndex",e),a('<td class="jqplot-legend jqplot-cursor-legend-swatch" style="padding-top:'+f+';"><div style="border:1px solid #cccccc;padding:0.2em;"><div class="jqplot-cursor-legend-swatch" style="background-color:'+c+';"></div></div></td>').appendTo(g);var h=a('<td class="jqplot-legend jqplot-cursor-legend-label" style="vertical-align:middle;padding-top:'+f+';"></td>');h.appendTo(g),h.data("seriesIndex",e),this.escapeHtml?h.text(b):h.html(b),g=null,h=null}if(this._elem&&(this._elem.emptyForce(),this._elem=null),this.show){var c,d=this._series,e=document.createElement("table");this._elem=a(e),e=null,this._elem.addClass("jqplot-legend jqplot-cursor-legend"),this._elem.css("position","absolute");for(var f=!1,g=0;g<d.length;g++)if(c=d[g],c.show&&c.showLabel){var h=a.jqplot.sprintf(this.formatString,c.label.toString());if(h){var i=c.color;c._stack&&!c.fill&&(i=""),b.call(this,h,i,f,g),f=!0}for(var j=0;j<a.jqplot.addLegendRowHooks.length;j++){var k=a.jqplot.addLegendRowHooks[j].call(this,c);k&&(b.call(this,k.label,k.color,f),f=!0)}}d=c=null,delete d,delete c}return this._elem}}(jQuery);