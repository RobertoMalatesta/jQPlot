<!DOCTYPE html>
<html>
	<head>
		<title>Canvas overlay date axis</title>

		<!-- JQuery dependence -->
		<script src="../../../dist/core/jquery.min.js"></script>
		<script src="../../../src/core/jquery.jqplot.js"></script>

		<!--Â Axes -->
		<script src="../../../dist/plugins/axis/jqplot.dateAxisRenderer.min.js"></script>
		<script src="../../../dist/plugins/axis/jqplot.canvasAxisTickRenderer.min.js"></script>
		<script src="../../../dist/plugins/text/jqplot.canvasTextRenderer.min.js"></script>

		<!-- Customization theme -->
		<script src="../../../dist/plugins/themes/extendedThemes.min.js"></script>

		<!-- Export PNG -->
		<script src="../../../dist/plugins/export/exportImg.min.js"></script>

		<script src="../../../dist/plugins/fullscreener/fullscreener.min.js"></script>
		<script src="../../../dist/plugins/legend/jqplot.enhancedLegendRenderer.min.js"></script>

		<script src="../../../src/plugins/overlay/jqplot.canvasOverlay.js"></script>

		<link type="text/css" rel="stylesheet" href="../../../dist/plugins/fullscreener/fullscreener.min.css"/>
		<link type="text/css" rel="stylesheet" href="../../../dist/core/jquery.jqplot.min.css"/>
	</head>
	<body>

		<div class=""> <!-- coding -->
            
            <div id="chart1" style="margin:20px;"></div>
            
            <div id="chart2" style="margin:20px;"></div>

            <script>
            $(function(){

                var serie1 = [['2008-09-01', 4], ['2008-09-02',7], ['2008-09-03', null], ['2008-09-04', -3], ['2008-09-05', 10]],
                    serie2 = [['00:00', null], ['03:00', null], ['06:00', null], ['09:00', null], ['12:00', null], ['15:00', null], ['18:00', null], ['21:00', null], ['24:00', null]],
                    plot1,
                    plot2;

                $.jqplot.config.enablePlugins = true;

                plot1 = $.jqplot('chart1', [serie1], {
                        title:'A super chart',
                        axes:{
                            xaxis:{
                                renderer: $.jqplot.DateAxisRenderer,
                            }
                        },
                        seriesDefaults:{
                            renderer: $.jqplot.BarRenderer,
                            rendererOptions: {
                                varyBarColor: true,
                                barMargin: 30,
                            },
                            pointLabels: { show: true, darkColor: "black", brightColor: "orange"}
                        },
                        legend: {
                            show: true,
                            location: 'ne',
                            placement: 'inside'
                        },
                        series: [{label: 'Lbl 1'}, {label: 'Lbl 2'}, {label: 'Lbl 3'}, {label: 'Lbl 4'},{ label: 'Lbl 5'}, {label: 'Lbl 6'},{label: 'Lbl 7'}, {label: 'Lbl 8'}],
                        canvasOverlay: {
                            show: true,
                            bellowSeries: true,
                            objects: [
                                {rectangle: {
                                    name: 'barney',
                                    xformat: {
                                        type: 'date',
                                        format: '%Y-%m-%d %H:%M:%S'
                                    },
                                    xmin: '2008-09-01 05:00:00',
                                    xmax: '2008-09-04 05:00:00',
                                    ymin: [0],
                                    ymax: [8],
                                    xOffset: 0,
                                    color: 'rgba(122, 122, 122,0.5)',
                                    shadow: false,
                                    showTooltip: true,
                                    tooltipLocation: 'ne',
                                    tooltipFormatString: '<b><i><span style="color:red;">Passe</span></i></b> %.2f',
                                }},
                                {horizontalLine: {
                                    name: 'pebbles',
                                    xformat: {
                                        type: 'date',
                                        format: '%Y-%m-%d %H:%M:%S'
                                    },
                                    y: -1,
                                    xmin: '2008-09-02 15:00:00',
                                    xmax: '2008-09-03 01:00:00',
                                    lineWidth: 3,
                                    color: 'lime',
                                    shadow: true,
                                    lineCap: 'butt',
                                    showTooltip: true,
                                    tooltipLocation: 'ne',
                                    tooltipFormatString: '<b><i><span style="color:red;">horizontalLine</span></i></b> %.2f',
                                }},
                                {dashedHorizontalLine: {
                                    name: 'Calimero',
                                    xformat: {
                                        type: 'date',
                                        format: '%Y-%m-%d %H:%M:%S'
                                    },
                                    y: -2,
                                    xmin: '2008-09-02 00:00:00',
                                    xmax: '2008-09-04 01:00:00',
                                    lineWidth: 3,
                                    color: 'steelblue',
                                    shadow: true,
                                    lineCap: 'butt',
                                    showTooltip: true,
                                    tooltipLocation: 'ne',
                                    tooltipFormatString: '<b><i><span style="color:red;">dashedHorizontalLine</span></i></b> %.2f',
                                }},
                                {verticalLine: {
                                    name: 'tutu',
                                    xformat: {
                                        type: 'date',
                                        format: '%Y-%m-%d %H:%M:%S'
                                    },
                                    ymin: 1,
                                    ymax: 3,
                                    x: '2008-09-02 15:00:00',
                                    lineWidth: 3,
                                    color: 'rgb(100, 55, 124)',
                                    shadow: true,
                                    lineCap: 'butt',
                                    yOffset: -3,
                                    showTooltip: true,
                                    tooltipLocation: 'ne',
                                    tooltipFormatString: '<b><i><span style="color:red;">verticalLine</span></i></b> %.2f',
                                }},
                                {dashedVerticalLine: {
                                    name: 'Elli',
                                    xformat: {
                                        type: 'date',
                                        format: '%Y-%m-%d %H:%M:%S'
                                    },
                                    ymin: 1,
                                    ymax: 3,
                                    x: '2008-09-02 00:00:00',
                                    lineWidth: 3,
                                    color: 'rgb(100, 55, 124)',
                                    shadow: true,
                                    lineCap: 'butt',
                                    yOffset: -3,
                                    showTooltip: true,
                                    tooltipLocation: 'ne',
                                    tooltipFormatString: '<b><i><span style="color:red;">dashedVerticalLine</span></i></b> %.2f',
                                }},
                                {line: {
                                    name: 'toto',
                                    xformat: {
                                        type: "date",
                                        format: '%d/%m/%Y'
                                    },
                                    start: ['02/09/2008 15:00:00', 3],
                                    stop: ['04/09/2008 15:00:00', 7],
                                    lineWidth: 3,
                                    color: 'rgb(255, 55, 124)',
                                    shadow: true
                                }}]
                        },
                        highlighter: {
                            show: true,
                            sizeAdjust: 10,
                            tooltipLocation: 'n',
                            tooltipAxes: 'y',
                            showTooltip: true,
                            tooltipFormatString: '<b><i><span style="color:red;">hello</span></i></b> %.2f',
                        },
                        cursor: {
                            show: true
                        },
                        stackSeries: true
});
                
                plot2 = $.jqplot('chart2', [serie2], {
                    title: "A Chart with WorkItems",
                    axes: {
                        yaxis: {
                            show: false,    // no label
                            min: 0          // baseline 0
                        },
                        xaxis: {
                            renderer: $.jqplot.DateAxisRenderer,
                            tickOptions: {
                                formatString: "%H:%M"
                            }
                        }
                    },
                    canvasOverlay: {
                        show: true,
                        bellowSeries: true,
                        objects: [
                            {
                                workitem: {
                                    xformat: {
                                        type: 'date',
                                        format: '%H:%M'
                                    },
                                    name: "test1",
                                    color: "green",
                                    xmin: '03:00',
                                    xmax: '23:59',
                                    showTooltip: true
                                }
                            },
                            {
                                workitem: {
                                    xformat: {
                                        type: 'date',
                                        format: '%H:%M'
                                    },
                                    name: "test2",
                                    color: "orange",
                                    xmin: '12:00',
                                    xmax: '15:00',
                                    showTooltip: true
                                }
                            },
                            {
                                workitem: {
                                    xformat: {
                                        type: 'date',
                                        format: '%H:%M'
                                    },
                                    name: "test3",
                                    color: "rebeccapurple",
                                    xmin: '15:00',
                                    xmax: '18:00',
                                    showTooltip: true
                                }
                            },
                            {
                                workitem: {
                                    xformat: {
                                        type: 'date',
                                        format: '%H:%M'
                                    },
                                    name: "test4",
                                    color: "steelblue",
                                    xmin: '12:00',
                                    xmax: '14:00',
                                    showTooltip: true
                                }
                            },
                            {
                                workitem: {
                                    xformat: {
                                        type: 'date',
                                        format: '%H:%M'
                                    },
                                    name: "test5",
                                    color: "red",
                                    xmin: '17:00',
                                    xmax: '20:00',
                                    showTooltip: true
                                }
                            }]
                        },
                    highlighter: {
                        show: true,
                        sizeAdjust: 10,
                        tooltipLocation: 'n',
                        tooltipAxes: 'y',
                        showTooltip: true,
                        tooltipFormatString: '<b><i><span style="color:red;">hello</span></i></b> %.2f',
                    },
                    cursor: {
                        show: true       
                    }
                });

                //plot1.replot();

            });
            </script>
            
        </div>

		<script src="../../common/$.jqplot.demo.common.js"></script>
	</body>
</html>